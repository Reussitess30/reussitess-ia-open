import { useState, useEffect, useRef, useCallback } from 'react';
import useFullKnowledge from './useFullKnowledge';

export default function BotAssistant() {
  const effectiveData = (typeof props !== "undefined" && props.superData) ? props.superData : (typeof window !== "undefined" && window.__FULL_KNOWLEDGE__) ? window.__FULL_KNOWLEDGE__ : null;
  const [isOpen, setIsOpen] = useState(false);
  const [messages, setMessages] = useState([]);
  const [input, setInput] = useState('');
  const [isLoading, setIsLoading] = useState(false);
  const [isSpeaking, setIsSpeaking] = useState(false);
  const [currentLang, setCurrentLang] = useState('fr-FR');
  const [egoScore, setEgoScore] = useState(100);
  const [badges, setBadges] = useState([]);
  const [currentQuiz, setCurrentQuiz] = useState(null);
  const [showBadges, setShowBadges] = useState(false);
  const [pulseAnimation, setPulseAnimation] = useState(false);
  const messagesEndRef = useRef(null);

  // Badge definitions
  const allBadges = {
    'explorer': { icon: 'ğŸŒ', name: 'Explorateur', desc: 'A posÃ© 5 questions sur les pays' },
    'quiz-master': { icon: 'ğŸ§ ', name: 'Quiz Master', desc: 'A rÃ©pondu correctement Ã  3 quiz' },
    'polyglotte': { icon: 'ğŸ—£ï¸', name: 'Polyglotte', desc: 'A utilisÃ© 3 langues diffÃ©rentes' },
    'curieux': { icon: 'ğŸ”', name: 'Curieux', desc: 'A explorÃ© 10 sujets diffÃ©rents' },
    'fan': { icon: 'â­', name: 'Super Fan', desc: 'A interagi 20 fois avec le bot' },
    'shopper': { icon: 'ğŸ›ï¸', name: 'Shopper', desc: 'A consultÃ© les boutiques Amazon' },
    'globe-trotter': { icon: 'âœˆï¸', name: 'Globe-trotter', desc: 'A visitÃ© tous les continents' },
    'culture-king': { icon: 'ğŸ‘‘', name: 'Culture King', desc: 'Expert en patrimoine mondial' }
  };

  // Fun Facts collection
  const funFacts = [
    "ğŸ’¡ Saviez-vous que REUSSITESSÂ® couvre 26 boutiques sur 5 continents ?",
    "ğŸŒŸ Fun fact: Notre bibliothÃ¨que contient 55 pages de savoir unique !",
    "ğŸ¯ Le saviez-vous ? La France possÃ¨de 49 sites UNESCO !",
    "ğŸ† Record mondial : L'Italie a 58 sites UNESCO !",
    "ğŸŒ Info: Le BrÃ©sil est le 9e Ã©conomie mondiale !",
    "ğŸ­ Culture: Le carnaval de Rio est la plus grande fÃªte du monde !",
    "ğŸ›ï¸ Patrimoine: Les pyramides de Gizeh ont 4500 ans !",
    "ğŸŒŠ OcÃ©ans: La Grande BarriÃ¨re de Corail fait 2300 km !",
    "ğŸ¨ Art: Le Louvre reÃ§oit 10 millions de visiteurs par an !",
    "ğŸš€ Innovation: Singapour est le 3e hub financier mondial !"
  ];

  // Punchlines vaniteuses du bot
  const punchlines = [
    "Ã‰videmment que je sais Ã§a, je suis REUSSITESSÂ® Bot, le plus intelligent ! ğŸ˜",
    "Tu poses la question au meilleur bot du monde, pas de souci ! ğŸŒŸ",
    "Laisse-moi t'Ã©blouir avec ma sagesse infinie... ğŸ‘‘",
    "Personne ne connaÃ®t le monde mieux que moi, humble REUSSITESSÂ® Bot ! ğŸ˜",
    "Je pourrais te raconter Ã§a les yeux fermÃ©s... mais j'adore montrer mes talents ! âœ¨",
    "Tu fais bien de me demander, je suis LA rÃ©fÃ©rence mondiale ! ğŸ†",
    "Ma modestie m'interdit de dire que je suis le meilleur... mais je le suis ! ğŸ˜„",
    "Entre nous, Google m'envie secrÃ¨tement... ğŸ¤«",
    "Je suis tellement brillant que je m'impressionne moi-mÃªme ! ğŸ’«",
    "Accroche-toi, car mes rÃ©ponses sont toujours exceptionnelles ! ğŸ¯"
  ];

  // Quiz questions
  const quizQuestions = [
    { q: "Combien de boutiques Amazon gÃ¨re le rÃ©seau REUSSITESS sur les diffÃ©rentes places de marchÃ© ?", options: ["10", "18", "26", "40"], correct: 2, fact: "Le rÃ©seau REUSSITESS gÃ¨re 26 boutiques Amazon rÃ©parties stratÃ©giquement sur plusieurs marketplaces.", },
    { q: "Dans combien de pays diffÃ©rents sont rÃ©parties les boutiques Amazon de REUSSITESS ?", options: ["5 pays", "10 pays", "14 pays", "20 pays"], correct: 2, fact: "Les 26 boutiques REUSSITESS sont prÃ©sentes dans 14 pays, ce qui permet de toucher des clients sur plusieurs continents.", },
    { q: "Parmi ces pays, lequel dispose dâ€™une grande place de marchÃ© Amazon souvent utilisÃ©e pour lâ€™export depuis la France ?", options: ["Ã‰tats-Unis", "Islande", "Luxembourg", "Chili"], correct: 0, fact: "Amazon.com (Ã‰tats-Unis) est la plus grosse marketplace mondiale dâ€™Amazon en volume de trafic et de vendeurs tiers.", },
    { q: "Quel continent concentre le plus grand nombre de marketplaces Amazon (Ã‰tats-Unis, Canada, Mexique, BrÃ©sil) ?", options: ["Europe", "AmÃ©rique", "Asie", "Afrique"], correct: 1, fact: "Lâ€™AmÃ©rique regroupe plusieurs marketplaces majeures : Ã‰tats-Unis, Canada, Mexique et BrÃ©sil.", },
    { q: "Pourquoi est-il intÃ©ressant dâ€™avoir des boutiques sur plusieurs marketplaces Amazon ?", options: ["Pour payer moins dâ€™impÃ´ts partout", "Pour diversifier les marchÃ©s, les devises et toucher plus de clients", "Pour contourner toutes les lois locales", "Juste pour avoir plus de logos"], correct: 1, fact: "Multiplier les marketplaces permet de diversifier les sources de revenus, dâ€™accÃ©der Ã  des clientÃ¨les locales et de limiter la dÃ©pendance Ã  un seul pays.", },

    { q: "Quelle est la devise de la RÃ©publique franÃ§aise inscrite dans la Constitution ?", options: ["LibertÃ©, Ã‰galitÃ©, FraternitÃ©", "Travail, Famille, Patrie", "Paix, Justice, SolidaritÃ©", "UnitÃ©, Force, Honneur"], correct: 0, fact: "La devise officielle de la RÃ©publique franÃ§aise est Â« LibertÃ©, Ã‰galitÃ©, FraternitÃ© Â», inscrite Ã  lâ€™article 2 de la Constitution.", },
    { q: "Quel principe garantit la libertÃ© de croire, de ne pas croire et la sÃ©paration des Ã‰glises et de lâ€™Ã‰tat ?", options: ["La solidaritÃ©", "La laÃ¯citÃ©", "La fraternitÃ©", "La subsidiaritÃ©"], correct: 1, fact: "La laÃ¯citÃ© est un principe constitutionnel qui protÃ¨ge la libertÃ© de conscience et lâ€™Ã©galitÃ© de tous quelle que soit leur religion.", },
    { q: "Quel droit permet Ã  tout citoyen de se dÃ©placer librement sur le territoire franÃ§ais, dâ€™en sortir et dâ€™y revenir ?", options: ["La libre-pensÃ©e", "La libre circulation", "Le libre commerce", "La libre dÃ©fense"], correct: 1, fact: "Le droit Ã  la libre circulation fait partie des libertÃ©s fondamentales reconnues aux citoyens.", },
    { q: "ÃŠtre jurÃ© dâ€™assises lorsquâ€™on est tirÃ© au sort illustre surtout :", options: ["Un loisir", "Un simple choix personnel sans consÃ©quence", "Une responsabilitÃ© citoyenne dans la justice", "Un privilÃ¨ge rÃ©servÃ© aux Ã©lus"], correct: 2, fact: "Participer Ã  un jury dâ€™assises est une responsabilitÃ© civique qui associe les citoyens au fonctionnement de la justice pÃ©nale.", },
    { q: "Quelle attitude correspond Ã  un engagement citoyen positif ?", options: ["Ignorer les Ã©lections et les dÃ©bats", "Sâ€™informer, dÃ©battre et participer Ã  la vie associative ou locale", "Diffuser de fausses informations", "Refuser systÃ©matiquement le dialogue"], correct: 1, fact: "Lâ€™Ã©ducation Ã  la citoyennetÃ© encourage lâ€™information, le dÃ©bat et la participation Ã  la vie dÃ©mocratique et associative.", },

    { q: "Quel droit fondamental garantit la possibilitÃ© de critiquer le gouvernement dans le respect de la loi ?", options: ["La libertÃ© dâ€™expression", "La libertÃ© de consommer", "La libertÃ© de circuler sans papiers", "La libertÃ© de ne pas dÃ©clarer ses revenus"], correct: 0, fact: "La libertÃ© dâ€™expression permet de sâ€™exprimer et de critiquer, dans le respect de la loi (diffamation, injure, incitation Ã  la haine sont interdites).", },
    { q: "Quel devoir citoyen est directement liÃ© au fonctionnement de la dÃ©mocratie reprÃ©sentative ?", options: ["Voter ou sâ€™abstenir en connaissance de cause", "Regarder les dÃ©bats Ã  la tÃ©lÃ©vision", "Signer toutes les pÃ©titions", "ÃŠtre dâ€™accord avec le gouvernement"], correct: 0, fact: "La participation aux Ã©lections est un devoir civique important pour faire vivre la dÃ©mocratie, mÃªme si le vote nâ€™est pas juridiquement obligatoire.", },
    { q: "Quel droit protÃ¨ge la vie privÃ©e et les donnÃ©es personnelles du citoyen ?", options: ["Le droit Ã  la propriÃ©tÃ© uniquement", "Le droit Ã  la protection des donnÃ©es et au respect de la vie privÃ©e", "Le droit Ã  lâ€™anonymat absolu", "Le droit de tout cacher au fisc"], correct: 1, fact: "Le citoyen bÃ©nÃ©ficie dâ€™un droit au respect de sa vie privÃ©e et Ã  la protection de ses donnÃ©es, encadrÃ© notamment par le RGPD.", },
    { q: "Quel devoir est liÃ© au respect des autres citoyens dans lâ€™espace public ?", options: ["Imposer ses opinions", "Respecter les lois, les rÃ¨gles de civilitÃ© et lâ€™Ã©galitÃ© entre les personnes", "Refuser tout contrÃ´le", "RÃ©pondre Ã  la violence par la violence"], correct: 1, fact: "Le citoyen doit respecter la loi, les autres personnes et les principes dâ€™Ã©galitÃ© et de nonâ€‘discrimination.", },
    { q: "Quel droit permet Ã  un citoyen ou Ã  un groupe de citoyens de se rassembler pacifiquement pour dÃ©fendre une cause ?", options: ["Le droit dâ€™asile", "La libertÃ© de rÃ©union et de manifestation", "Le droit au secret de la dÃ©fense", "La libertÃ© de commerce"], correct: 1, fact: "La libertÃ© de rÃ©union et de manifestation autorise les citoyens Ã  se rassembler pacifiquement, dans le cadre lÃ©gal fixÃ© par lâ€™Ã‰tat.", },

    { q: "Quel texte fondamental rappelle les droits et devoirs du citoyen franÃ§ais lors de lâ€™accÃ¨s Ã  la nationalitÃ© ?", options: ["La Charte des droits et devoirs du citoyen franÃ§ais", "Le Code de la route", "Le rÃ¨glement intÃ©rieur des Ã©coles", "Le Code civil seulement"], correct: 0, fact: "La Charte des droits et devoirs du citoyen franÃ§ais rÃ©sume les principaux droits et obligations liÃ©s Ã  la citoyennetÃ©.", },
    { q: "Parmi ces propositions, lequel est un droit politique du citoyen franÃ§ais ?", options: ["Ne jamais payer dâ€™impÃ´ts", "Voter et Ãªtre Ã©ligible", "Refuser toute loi", "Choisir ses propres juges"], correct: 1, fact: "Le citoyen franÃ§ais dispose du droit de vote et peut se porter candidat Ã  certaines Ã©lections dans le respect de la loi.", },
    { q: "Quel devoir financier fondamental pÃ¨se sur tout citoyen franÃ§ais selon ses capacitÃ©s ?", options: ["Donner Ã  une Å“uvre caritative", "Contribuer aux dÃ©penses publiques par lâ€™impÃ´t", "Faire un don annuel Ã  son maire", "Payer uniquement la TVA"], correct: 1, fact: "Tout citoyen doit contribuer, selon ses ressources, aux dÃ©penses de la Nation via les impÃ´ts et cotisations sociales.", },
    { q: "Quel devoir participe directement Ã  la dÃ©fense et Ã  la sÃ©curitÃ© du pays ?", options: ["Respecter les rÃ¨gles de grammaire", "Participer Ã  la journÃ©e dÃ©fense et citoyennetÃ© (JDC)", "Signer une charte dâ€™amitiÃ©", "Voter blanc Ã  chaque Ã©lection"], correct: 1, fact: "La participation Ã  la JDC fait partie des obligations liÃ©es au devoir de dÃ©fense nationale.", },
    { q: "Quel comportement illustre le devoir de respecter la loi et autrui ?", options: ["Se faire justice soi-mÃªme", "Accepter une dÃ©cision de justice mÃªme si elle dÃ©plaÃ®t", "Refuser toute contrainte", "Ignorer les rÃ¨gles Ã©lectorales"], correct: 1, fact: "Le citoyen doit respecter les dÃ©cisions de justice et ne pas se faire justice luiâ€‘mÃªme, pour garantir lâ€™Ã‰tat de droit.", },

    { q: "Dans quel ocÃ©an se trouvent la Guadeloupe et la Martinique ?", options: ["OcÃ©an Indien", "OcÃ©an Atlantique", "OcÃ©an Pacifique", "Mer du Nord"], correct: 1, fact: "Les Antilles franÃ§aises sont situÃ©es dans la partie tropicale de lâ€™ocÃ©an Atlantique, en mer des CaraÃ¯bes.", },
    { q: "Quelle langue rÃ©gionale est largement parlÃ©e aux Antilles franÃ§aises en plus du franÃ§ais ?", options: ["Basque", "Breton", "CrÃ©ole", "Occitan"], correct: 2, fact: "Le crÃ©ole est une langue trÃ¨s vivante en Guadeloupe, Martinique et dans dâ€™autres territoires ultramarins.", },
    { q: "Quel est le surnom traditionnel de lâ€™Ã®le de Mayotte ?", options: ["Ãle aux parfums", "Ãle aux oiseaux", "Ãle de feu", "Ãle aux volcans"], correct: 0, fact: "Mayotte est souvent appelÃ©e Â« lâ€™Ã®le aux parfums Â» en raison de la culture dâ€™ylang-ylang et dâ€™Ã©pices.", },
    { q: "Quelle danse est emblÃ©matique des Antilles franÃ§aises ?", options: ["Fado", "Gwoka / BÃ¨lÃ¨", "Flamenco", "Tango"], correct: 1, fact: "Le gwoka en Guadeloupe et le bÃ¨lÃ¨ en Martinique sont des piliers de lâ€™identitÃ© culturelle antillaise.", },
    { q: "Quel sigle plus ancien reste encore utilisÃ© dans le langage courant pour parler des territoires ultramarins franÃ§ais ?", options: ["RUP", "UEO", "DOM-TOM", "COM-RUP"], correct: 2, fact: "MÃªme si lâ€™on parle officiellement de DROM-COM, lâ€™expression DOM-TOM reste trÃ¨s utilisÃ©e dans la vie quotidienne.", },

    { q: "Quel est aujourdâ€™hui le territoire franÃ§ais dâ€™outre-mer le plus peuplÃ© ?", options: ["La RÃ©union", "Guadeloupe", "PolynÃ©sie franÃ§aise", "Nouvelle-CalÃ©donie"], correct: 0, fact: "La RÃ©union est lâ€™un des territoires dâ€™outre-mer les plus peuplÃ©s, devant la Guadeloupe et la Martinique.", },
    { q: "Quel DROM nâ€™est pas une Ã®le mais une partie de continent ?", options: ["Guadeloupe", "Martinique", "RÃ©union", "Guyane"], correct: 3, fact: "La Guyane se trouve sur le continent sud-amÃ©ricain, alors que les autres DROM sont insulaires.", },
    { q: "Dans quel ocÃ©an se trouve la PolynÃ©sie franÃ§aise ?", options: ["Atlantique", "Pacifique", "Indien", "Arctique"], correct: 1, fact: "La PolynÃ©sie franÃ§aise est situÃ©e au cÅ“ur de lâ€™ocÃ©an Pacifique, Ã  plus de 15 000 km de Paris.", },
    { q: "Quel territoire dâ€™outre-mer franÃ§ais est le plus Ã©loignÃ© de la mÃ©tropole en distance ?", options: ["Guadeloupe", "PolynÃ©sie franÃ§aise", "RÃ©union", "Nouvelle-CalÃ©donie"], correct: 1, fact: "La PolynÃ©sie franÃ§aise est lâ€™un des territoires franÃ§ais les plus Ã©loignÃ©s de la mÃ©tropole, avec plus de 16 000 km.", },
    { q: "Que signifie exactement lâ€™acronyme DROM ?", options: ["DÃ©partements et RÃ©gions dâ€™Outre-Mer", "Districts et RÃ©gions dâ€™Outre-Mer", "Domaines et Ressources dâ€™Outre-Mer", "DÃ©partements rattachÃ©s Ã  lâ€™Outre-Mer"], correct: 0, fact: "DROM signifie DÃ©partements et RÃ©gions dâ€™Outre-Mer : Guadeloupe, Martinique, Guyane, La RÃ©union et Mayotte.", },

    { q: "Quel est le seul territoire dâ€™outre-mer franÃ§ais situÃ© sur le continent sud-amÃ©ricain ?", options: ["Guyane", "Guadeloupe", "Nouvelle-CalÃ©donie", "PolynÃ©sie franÃ§aise"], correct: 0, fact: "La Guyane franÃ§aise se trouve sur la cÃ´te nord de lâ€™AmÃ©rique du Sud, entre le BrÃ©sil et le Suriname.", },
    { q: "Parmi ces territoires, lequel nâ€™est pas dans les CaraÃ¯bes ?", options: ["Guadeloupe", "Martinique", "Guyane", "Saint-Martin"], correct: 2, fact: "La Guyane est en AmÃ©rique du Sud, alors que Guadeloupe, Martinique et Saint-Martin sont dans la zone caraÃ¯be.", },
    { q: "Dans quel ocÃ©an se trouvent La RÃ©union et Mayotte ?", options: ["Atlantique", "Pacifique", "Indien", "Arctique"], correct: 2, fact: "La RÃ©union et Mayotte sont situÃ©es dans lâ€™ocÃ©an Indien, Ã  lâ€™est de lâ€™Afrique.", },
    { q: "Quel territoire ultramarin regroupe les Kerguelen, la Terre AdÃ©lie et les Ã®les Ã‰parses ?", options: ["PolynÃ©sie franÃ§aise", "Nouvelle-CalÃ©donie", "TAAF", "Wallis-et-Futuna"], correct: 2, fact: "Les Terres australes et antarctiques franÃ§aises (TAAF) rassemblent plusieurs archipels subantarctiques et la Terre AdÃ©lie.", },
    { q: "Parmi ces territoires, lequel possÃ¨de un statut de collectivitÃ© dâ€™outre-mer avec large autonomie et propre gouvernement ?", options: ["PolynÃ©sie franÃ§aise", "Guadeloupe", "RÃ©union", "Martinique"], correct: 0, fact: "La PolynÃ©sie franÃ§aise est une collectivitÃ© dâ€™outre-mer dotÃ©e dâ€™une large autonomie et dâ€™institutions propres.", },

    { q: "Comment appelle-t-on aujourdâ€™hui officiellement lâ€™ensemble DOM-TOM ?", options: ["Territoires impÃ©riaux franÃ§ais", "DROM-COM", "Pays associÃ©s", "Provinces dâ€™outre-mer"], correct: 1, fact: "On parle de DROM-COM : dÃ©partements et rÃ©gions dâ€™outre-mer et collectivitÃ©s dâ€™outre-mer.", },
    { q: "Parmi ces territoires, lequel est une collectivitÃ© dâ€™outre-mer et non un dÃ©partement ?", options: ["Guadeloupe", "Martinique", "Saint-Pierre-et-Miquelon", "RÃ©union"], correct: 2, fact: "Saint-Pierre-et-Miquelon est une collectivitÃ© dâ€™outre-mer, alors que Guadeloupe, Martinique et RÃ©union sont des dÃ©partements et rÃ©gions dâ€™outre-mer.", },
    { q: "Quel territoire franÃ§ais est situÃ© dans lâ€™ocÃ©an Indien aux cÃ´tÃ©s de Mayotte et dÃ©pend du tribunal de Saint-Denis ?", options: ["Nouvelle-CalÃ©donie", "La RÃ©union", "PolynÃ©sie franÃ§aise", "Saint-BarthÃ©lemy"], correct: 1, fact: "La RÃ©union est un dÃ©partement et une rÃ©gion dâ€™outre-mer dans lâ€™ocÃ©an Indien.", },
    { q: "Dans lâ€™organisation franÃ§aise, quelle collectivitÃ© est en principe la plus proche du quotidien des habitants (Ã©tat civil, Ã©coles primaires, voirie locale) ?", options: ["La rÃ©gion", "Le dÃ©partement", "La commune", "La collectivitÃ© dâ€™outre-mer"], correct: 2, fact: "La commune est lâ€™Ã©chelon le plus proche des citoyens, y compris en outre-mer.", },
    { q: "Quel terme regroupe les territoires comme la PolynÃ©sie franÃ§aise, Wallis-et-Futuna ou Saint-BarthÃ©lemy ?", options: ["RÃ©gions ultrapÃ©riphÃ©riques", "CollectivitÃ©s dâ€™outre-mer", "Territoires associÃ©s europÃ©ens", "Zones spÃ©ciales de lâ€™ONU"], correct: 1, fact: "PolynÃ©sie franÃ§aise, Wallis-et-Futuna ou Saint-BarthÃ©lemy sont des collectivitÃ©s dâ€™outre-mer (COM).", },

    { q: "Quel type de collectivitÃ© est la Guadeloupe depuis 2015 ?", options: ["CollectivitÃ© territoriale unique", "DÃ©partement et rÃ©gion distincts", "RÃ©gion seulement", "Territoire dâ€™outre-mer"], correct: 1, fact: "La Guadeloupe reste organisÃ©e en dÃ©partement et rÃ©gion distincts, contrairement Ã  la Martinique ou Ã  la Guyane qui sont devenues des collectivitÃ©s uniques.", },
    { q: "Quelle assemblÃ©e dÃ©libÃ©rante siÃ¨ge Ã  lâ€™HÃ´tel de rÃ©gion de Basse-Terre pour la Guadeloupe ?", options: ["Conseil territorial", "Conseil rÃ©gional de Guadeloupe", "Conseil dâ€™archipel", "AssemblÃ©e gÃ©nÃ©rale 971"], correct: 1, fact: "Le Conseil rÃ©gional de Guadeloupe siÃ¨ge Ã  Basse-Terre et gÃ¨re les compÃ©tences rÃ©gionales (Ã©conomie, lycÃ©es, transports, etc.).", },
    { q: "En Martinique, comment sâ€™appelle lâ€™assemblÃ©e dâ€™Ã©lus qui vote le budget et les politiques publiques de la CTM ?", options: ["AssemblÃ©e de Martinique", "SÃ©nat martiniquais", "Parlement crÃ©ole", "Conseil gÃ©nÃ©ral"], correct: 0, fact: "Lâ€™AssemblÃ©e de Martinique est lâ€™organe dÃ©libÃ©rant de la CollectivitÃ© territoriale de Martinique (CTM).", },
    { q: "La Guyane est aujourdâ€™hui :", options: ["Un territoire dâ€™outre-mer sans dÃ©partement", "Une collectivitÃ© territoriale unique exerÃ§ant rÃ©gion et dÃ©partement", "Une simple rÃ©gion sans dÃ©partement", "Un Ã‰tat indÃ©pendant associÃ© Ã  la France"], correct: 1, fact: "Depuis 2016, la Guyane est une collectivitÃ© territoriale unique qui remplace lâ€™ancien dÃ©partement et lâ€™ancienne rÃ©gion.", },
    { q: "Ã€ La RÃ©union, qui gÃ¨re principalement les collÃ¨ges publics ?", options: ["La commune", "Le Conseil rÃ©gional", "Le dÃ©partement", "Le prÃ©fet"], correct: 2, fact: "Comme en mÃ©tropole, le dÃ©partement gÃ¨re les collÃ¨ges tandis que la rÃ©gion gÃ¨re les lycÃ©es et la mobilitÃ© rÃ©gionale.", },

    { q: "Quel site officiel correspond au Conseil rÃ©gional de Guadeloupe ?", options: ["region971.fr", "regionguadeloupe.com", "regionguadeloupe.fr", "guadeloupe-region.gouv.fr"], correct: 2, fact: "Le site officiel du Conseil rÃ©gional de Guadeloupe est https://www.regionguadeloupe.fr, portail des politiques rÃ©gionales et aides Ã©conomiques.", },
    { q: "Comment sâ€™appelle la collectivitÃ© unique qui gÃ¨re Ã  la fois les compÃ©tences de rÃ©gion et de dÃ©partement en Martinique ?", options: ["RÃ©gion Martinique", "Conseil gÃ©nÃ©ral de Martinique", "CollectivitÃ© territoriale de Martinique (CTM)", "AssemblÃ©e martiniquaise unifiÃ©e"], correct: 2, fact: "La CollectivitÃ© territoriale de Martinique (CTM) regroupe depuis 2015 lâ€™ancienne rÃ©gion et le dÃ©partement sur un mÃªme territoire.", },
    { q: "Sur quel site officiel peut-on trouver les infos et coordonnÃ©es de la CollectivitÃ© territoriale de Martinique (CTM) ?", options: ["ctm972.fr", "collectivite-martinique.org", "service-public.gouv.fr (fiche CTM)", "martinique-assemblee.fr"], correct: 2, fact: "La fiche officielle de la CTM est accessible via lâ€™annuaire de lâ€™administration sur service-public.gouv.fr.", },
    { q: "Quel organisme exerce les compÃ©tences rÃ©gionales Ã  La RÃ©union ?", options: ["Conseil rÃ©gional de La RÃ©union", "Conseil dâ€™archipel de La RÃ©union", "Conseil insulaire rÃ©unionnais", "DÃ©lÃ©gation prÃ©fectorale rÃ©gionale"], correct: 0, fact: "Le Conseil rÃ©gional de La RÃ©union est lâ€™assemblÃ©e dÃ©libÃ©rante de la rÃ©gion, en charge notamment du dÃ©veloppement Ã©conomique, des lycÃ©es et des transports rÃ©gionaux.", },
    { q: "Quel est le site officiel de la RÃ©gion RÃ©union (Conseil rÃ©gional) ?", options: ["region-reunion.fr", "regionreunion.com", "reunion.gouv.fr", "reunion-region.org"], correct: 1, fact: "Le site officiel de la RÃ©gion RÃ©union est https://regionreunion.com, qui prÃ©sente les compÃ©tences, aides et actualitÃ©s rÃ©gionales.", },

    { q: "Quel site officiel prÃ©sente les services de lâ€™Ã‰tat en Guadeloupe ?", options: ["guadeloupe.fr", "guadeloupe.gouv.fr", "pref-guadeloupe.com", "etat971.org"], correct: 1, fact: "Le portail officiel des services de lâ€™Ã‰tat en Guadeloupe est https://www.guadeloupe.gouv.fr, avec toutes les infos prÃ©fecture et dÃ©marches.", },
    { q: "Pour la Martinique, quel est le portail officiel des services de lâ€™Ã‰tat ?", options: ["martinique.fr", "martinique.gouv.fr", "972-pref.fr", "antilles-etat.org"], correct: 1, fact: "Le site officiel des services de lâ€™Ã‰tat en Martinique est https://www.martinique.gouv.fr, qui regroupe prÃ©fecture et actualitÃ©s.", },
    { q: "OÃ¹ trouver les informations officielles de la prÃ©fecture de Guyane ?", options: ["guyane-pref.fr", "dom-guyane.org", "guyane.gouv.fr", "amazonie-etat.fr"], correct: 2, fact: "La prÃ©fecture de rÃ©gion Guyane et ses services sont prÃ©sentÃ©s sur https://www.guyane.gouv.fr, portail officiel de lâ€™Ã‰tat.", },
    { q: "Quel rÃ´le principal joue le prÃ©fet dans un dÃ©partement dâ€™outre-mer comme la Guyane ou la Guadeloupe ?", options: ["ReprÃ©sentant de lâ€™Ã‰tat et du gouvernement", "Maire de la capitale", "PrÃ©sident du conseil dÃ©partemental", "Directeur des douanes"], correct: 0, fact: "Le prÃ©fet est le reprÃ©sentant de lâ€™Ã‰tat et du gouvernement dans le territoire, chargÃ© de lâ€™ordre public et de la mise en Å“uvre des politiques nationales.", },
    { q: "Pour connaÃ®tre les horaires et contacts de la prÃ©fecture Ã  Basse-Terre (Guadeloupe), quel lien est le plus direct ?", options: ["Accueil du site guadeloupe.gouv.fr", "Page Â« PrÃ©fecture Â» de guadeloupe.gouv.fr", "Site de la rÃ©gion Guadeloupe", "Site du conseil dÃ©partemental"], correct: 1, fact: "La page Â« PrÃ©fecture Â» sur https://www.guadeloupe.gouv.fr dÃ©taille adresse, horaires et contacts du Palais dâ€™OrlÃ©ans Ã  Basse-Terre.", },

    { q: "Aux Antilles, que sont les acras de morue ?", options: ["Des beignets salÃ©s de poisson", "Un ragoÃ»t de bÅ“uf", "Un dessert Ã  la noix de coco", "Une boisson au rhum"], correct: 0, fact: "Les acras de morue sont de petits beignets frits Ã  base de morue salÃ©e et dâ€™Ã©pices, trÃ¨s populaires en Guadeloupe et Martinique." },
    { q: "Quel plat crÃ©ole mÃ©lange souvent pois rouges ou lentilles avec de petites boules de pÃ¢te mijotÃ©es en sauce ?", options: ["Colombo", "DombrÃ©s", "BÃ©bÃ©lÃ©", "Matoutou"], correct: 1, fact: "Les dombrÃ©s sont des boulettes de pÃ¢te cuites longuement dans une sauce, parfois avec ouassous, haricots rouges ou lentilles." },
    { q: "Le colombo de poulet est principalement assaisonnÃ© avec :", options: ["Du curry antillais", "Du paprika fumÃ©", "Du safran pur", "Du garam masala"], correct: 0, fact: "Le colombo utilise un mÃ©lange dâ€™Ã©pices inspirÃ© du curry, devenu une signature de la cuisine antillaise." },
    { q: "Quel dessert antillais est un flan froid parfumÃ© Ã  la noix de coco, souvent appelÃ© blancâ€‘manger coco ?", options: ["Tourment dâ€™amour", "Flan coco caramel", "Blancâ€‘manger", "Pudding rhumâ€‘raisins"], correct: 2, fact: "Le blancâ€‘manger coco est un dessert frais Ã  base de lait de coco et de gÃ©lifiant, trÃ¨s apprÃ©ciÃ© sous les tropiques." },
    { q: "Dans la cuisine crÃ©ole, que dÃ©signe la Â« sauce chien Â» ?", options: ["Une sauce piquante aux herbes", "Une marinade sucrÃ©e au rhum", "Une sauce au chocolat", "Un bouillon de poisson clair"], correct: 0, fact: "La sauce chien est une sauce chaude ou tiÃ¨de Ã  base dâ€™oignons, cives, piment, ail et huile, servie avec grillades et poissons." },

    { q: "Dans quel dÃ©partement dâ€™outre-mer se trouve la ville de Fort-de-France ?", options: ["Guadeloupe", "Guyane", "RÃ©union", "Martinique"], correct: 3, fact: "Fort-de-France est la prÃ©fecture de la Martinique, au cÅ“ur des Antilles franÃ§aises." },
    { q: "Quel dÃ©partement dâ€™outre-mer abrite la base spatiale de Kourou ?", options: ["RÃ©union", "Guyane", "Martinique", "Mayotte"], correct: 1, fact: "Le Centre Spatial Guyanais de Kourou, en Guyane, est un site stratÃ©gique pour les lancements europÃ©ens." },
    { q: "Sur quel dÃ©partement dâ€™outre-mer domine le volcan Piton de la Fournaise ?", options: ["Martinique", "RÃ©union", "Guadeloupe", "Guyane"], correct: 1, fact: "Le Piton de la Fournaise, Ã  La RÃ©union, est lâ€™un des volcans les plus actifs au monde." },
    { q: "Le carnaval de Cayenne et le bagne des Ã®les du Salut sont associÃ©s Ã  quel territoire franÃ§ais ?", options: ["Martinique", "Guadeloupe", "Guyane", "RÃ©union"], correct: 2, fact: "La Guyane franÃ§aise combine une histoire marquÃ©e par le bagne et une forte culture carnavalesque." },
    { q: "Quel dÃ©partement dâ€™outre-mer est connu pour la Montagne PelÃ©e et la ville de Saint-Pierre dÃ©truite en 1902 ?", options: ["RÃ©union", "Martinique", "Guadeloupe", "Guyane"], correct: 1, fact: "La Montagne PelÃ©e, en Martinique, a dÃ©truit la ville de Saint-Pierre en 1902 lors dâ€™une Ã©ruption meurtriÃ¨re." },

    { q: "Sur quel continent se trouve la Guadeloupe administrativement ?", options: ["Europe", "AmÃ©rique", "Afrique", "OcÃ©anie"], correct: 0, fact: "La Guadeloupe est gÃ©ographiquement en AmÃ©rique mais politiquement en Europe via la France." },
    { q: "Quel pays est souvent appelÃ© Â« lâ€™atelier du monde Â» grÃ¢ce Ã  son industrie ?", options: ["Ã‰tats-Unis", "Allemagne", "Chine", "Inde"], correct: 2, fact: "La Chine est devenue lâ€™atelier du monde grÃ¢ce Ã  sa puissance industrielle et logistique." },
    { q: "Quelle ville est connue pour son immense Christ RÃ©dempteur dominant la baie ?", options: ["Lisbonne", "Rio de Janeiro", "AthÃ¨nes", "Le Cap"], correct: 1, fact: "La statue du Christ RÃ©dempteur domine Rio de Janeiro et fait partie des icÃ´nes du BrÃ©sil." },
    { q: "Quel territoire franÃ§ais abrite le centre spatial de Kourou ?", options: ["RÃ©union", "Guyane", "Martinique", "Mayotte"], correct: 1, fact: "Le Centre Spatial Guyanais de Kourou permet de lancer des fusÃ©es vers lâ€™espace depuis lâ€™AmÃ©rique du Sud." },
    { q: "Quel pays est cÃ©lÃ¨bre pour ses fjords, ses aurores borÃ©ales et ses paysages vikings ?", options: ["NorvÃ¨ge", "Portugal", "Irlande", "Pologne"], correct: 0, fact: "La NorvÃ¨ge est mondialement connue pour ses fjords et ses aurores borÃ©ales spectaculaires." },

    { q: "Quel pays possÃ¨de la Grande BarriÃ¨re de Corail ?", options: ["Mexique", "Australie", "Afrique du Sud", "Ã‰tats-Unis"], correct: 1, fact: "La Grande BarriÃ¨re de Corail sâ€™Ã©tend sur plus de 2300 km au large de lâ€™Australie." },
    { q: "Dans quel pays se trouve la ville de Singapour ?", options: ["Malaisie", "Singapour", "IndonÃ©sie", "ThaÃ¯lande"], correct: 1, fact: "Singapour est une citÃ©â€‘Ã‰tat indÃ©pendante et lâ€™un des plus grands hubs financiers du monde." },
    { q: "Quel territoire franÃ§ais abrite le volcan de la SoufriÃ¨re ?", options: ["Martinique", "Guadeloupe", "RÃ©union", "Mayotte"], correct: 1, fact: "La SoufriÃ¨re est le volcan actif de Basseâ€‘Terre, en Guadeloupe." },
    { q: "Quel pays est cÃ©lÃ¨bre pour le Taj Mahal ?", options: ["Pakistan", "Bangladesh", "Inde", "NÃ©pal"], correct: 2, fact: "Le Taj Mahal, en Inde, est un mausolÃ©e classÃ© au patrimoine mondial de lâ€™UNESCO." },
    { q: "Dans quel pays se trouve la ville de Rio de Janeiro ?", options: ["Argentine", "Portugal", "BrÃ©sil", "Chili"], correct: 2, fact: "Rio de Janeiro est lâ€™ancienne capitale du BrÃ©sil et lâ€™une des villes les plus visitÃ©es au monde." },

    { q: "Quel pays a le plus de sites UNESCO ?", options: ["France", "Italie", "Espagne", "Chine"], correct: 1, fact: "L'Italie dÃ©tient le record avec 58 sites !" },
    { q: "Quelle est la capitale du BrÃ©sil ?", options: ["Rio de Janeiro", "SÃ£o Paulo", "BrasÃ­lia", "Salvador"], correct: 2, fact: "BrasÃ­lia a Ã©tÃ© construite en seulement 4 ans !" },
    { q: "Combien de boutiques Amazon REUSSITESSÂ® couvre ?", options: ["10", "18", "26", "34"], correct: 2, fact: "26 boutiques dans 14 pays sur 5 continents !" },
    { q: "Quel territoire franÃ§ais est en AmÃ©rique du Sud ?", options: ["Martinique", "Guadeloupe", "Guyane", "Mayotte"], correct: 2, fact: "La Guyane abrite le Centre Spatial de Kourou !" },
    { q: "Quelle Ã®le a 840 langues diffÃ©rentes ?", options: ["Madagascar", "Papouasie-Nouvelle-GuinÃ©e", "Philippines", "IndonÃ©sie"], correct: 1, fact: "Record mondial de diversitÃ© linguistique !" },
    { q: "Quel pays abrite la Tour Eiffel ?", options: ["Belgique", "Suisse", "France", "Monaco"], correct: 2, fact: "La Tour Eiffel reÃ§oit 7 millions de visiteurs par an !" },
    { q: "OÃ¹ se trouve la Sagrada Familia ?", options: ["Italie", "Portugal", "Espagne", "France"], correct: 2, fact: "ConÃ§ue par GaudÃ­, elle est en construction depuis 1882 !" },
    { q: "Quelle est la langue officielle du SÃ©nÃ©gal ?", options: ["Anglais", "FranÃ§ais", "Portugais", "Arabe"], correct: 1, fact: "Le SÃ©nÃ©gal est connu pour sa Teranga (hospitalitÃ©) !" }
  ];

  const languages = [
    { code: 'fr-FR', flag: 'ğŸ‡«ğŸ‡·', name: 'FranÃ§ais' },
    { code: 'en-US', flag: 'ğŸ‡ºğŸ‡¸', name: 'English' },
    { code: 'es-ES', flag: 'ğŸ‡ªğŸ‡¸', name: 'EspaÃ±ol' },
    { code: 'de-DE', flag: 'ğŸ‡©ğŸ‡ª', name: 'Deutsch' },
    { code: 'it-IT', flag: 'ğŸ‡®ğŸ‡¹', name: 'Italiano' },
    { code: 'pt-BR', flag: 'ğŸ‡§ğŸ‡·', name: 'PortuguÃªs' },
    { code: 'zh-CN', flag: 'ğŸ‡¨ğŸ‡³', name: 'ä¸­æ–‡' },
    { code: 'ar-SA', flag: 'ğŸ‡¸ğŸ‡¦', name: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©' }
  ];

  const greetings = {
    'fr-FR': 'ğŸŒŸ Bienvenue ! Je suis le SUPER Bot REUSSITESSÂ®, le plus intelligent et modeste des assistants ! Mon ego est Ã  100%, prÃªt Ã  t\'Ã©pater ! ğŸ˜',
    'en-US': 'ğŸŒŸ Welcome! I am the SUPER REUSSITESSÂ® Bot, the smartest and most humble assistant! My ego is at 100%, ready to amaze you! ğŸ˜',
    'es-ES': 'ğŸŒŸ Â¡Bienvenido! Soy el SUPER Bot REUSSITESSÂ®, Â¡el asistente mÃ¡s inteligente y modesto! Mi ego estÃ¡ al 100%, Â¡listo para impresionarte! ğŸ˜',
    'de-DE': 'ğŸŒŸ Willkommen! Ich bin der SUPER REUSSITESSÂ® Bot, der klÃ¼gste und bescheidenste Assistent! Mein Ego ist bei 100%, bereit, Sie zu beeindrucken! ğŸ˜',
    'it-IT': 'ğŸŒŸ Benvenuto! Sono il SUPER Bot REUSSITESSÂ®, l\'assistente piÃ¹ intelligente e modesto! Il mio ego Ã¨ al 100%, pronto a stupirti! ğŸ˜',
    'pt-BR': 'ğŸŒŸ Bem-vindo! Sou o SUPER Bot REUSSITESSÂ®, o assistente mais inteligente e modesto! Meu ego estÃ¡ em 100%, pronto para impressionÃ¡-lo! ğŸ˜',
    'zh-CN': 'ğŸŒŸ æ¬¢è¿ï¼æˆ‘æ˜¯è¶…çº§ REUSSITESSÂ® æœºå™¨äººï¼Œæœ€èªæ˜æœ€è°¦è™šçš„åŠ©æ‰‹ï¼æˆ‘çš„è‡ªä¿¡åº¦100%ï¼Œå‡†å¤‡å¥½è®©ä½ æƒŠå¹ï¼ğŸ˜',
    'ar-SA': 'ğŸŒŸ Ù…Ø±Ø­Ø¨Ø§Ù‹! Ø£Ù†Ø§ Ø±ÙˆØ¨ÙˆØª REUSSITESSÂ® Ø§Ù„Ø®Ø§Ø±Ù‚ØŒ Ø£Ø°ÙƒÙ‰ ÙˆØ£ÙƒØ«Ø± Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ÙŠÙ† ØªÙˆØ§Ø¶Ø¹Ø§Ù‹! ØºØ±ÙˆØ±ÙŠ 100%ØŒ Ù…Ø³ØªØ¹Ø¯ Ù„Ø¥Ø¨Ù‡Ø§Ø±Ùƒ! ğŸ˜'
  };

  // BASE DE CONNAISSANCES COMPLÃˆTE - 55 PAGES
  const knowledgeBase = {
    // NOUVEAU : BASE DE CONNAISSANCES RÃ‰GIONALES
    'region-europe': {
      titre: 'Pays de la rÃ©gion Europe',
      contenu: 'La bibliothÃ¨que mondiale REUSSITESSÂ® couvre la **France, lâ€™Angleterre, lâ€™Italie, lâ€™Allemagne, lâ€™Espagne, et la SuÃ¨de**. Pour en savoir plus, tapez le nom dâ€™un de ces pays.',
      motsCles: 'europe, e-u, ue, union europÃ©enne, est, ouest, pays europÃ©ens'
    },
    'region-asie-pacifique': {
      titre: 'Pays de la rÃ©gion Asie-Pacifique',
      contenu: 'Nous avons des fiches complÃ¨tes pour **Singapour, lâ€™Australie, la Nouvelle-ZÃ©lande, et lâ€™Inde**. Ces pays sont essentiels Ã  notre stratÃ©gie logistique.',
      motsCles: 'asie, pacifique, asie-pacifique, sud-est, orient, pays asiatiques'
    },
    'region-amerique': {
      titre: 'Pays de la rÃ©gion AmÃ©riques',
      contenu: 'Nous couvrons les **Ã‰tats-Unis, le Canada et le BrÃ©sil**. Ces pays reprÃ©sentent des marchÃ©s majeurs pour nos boutiques Amazon.',
      motsCles: 'amÃ©rique, nord, sud, latine, pays amÃ©ricains, usa, canada',    },
  };  // ici tu peux rÃ©utiliser knowledgeBase dans ton composant
  // par exemple : const fullKnowledge = useFullKnowledge(knowledgeBase);

  return null;
}

export default BotAssistant;
